---
title: "What makes a TikTok song"
author: "Saar Schnieders"
output:
  flexdashboard::flex_dashboard:
    theme:
      version: 4
      mode: "dark"
      primary: "#ff2d55"
      secondary: "#3a86ff"
      font_color: "#ffffff"
      base_font:
        google: Prompt
      heading_font:
        google: Sen
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
# load libraries
library(flexdashboard)
library(plotly)
library(tidyverse)
library(spotifyr)
library(dplyr)
library(compmus)
library(tidymodels)
library(ggdendro)
library(heatmaply)
library(ggplot2)
library(cowplot)

# read playlists
billboard_2018 <- readRDS(file = "data/billboard_2018-data.RDS")
billboard_2019 <- readRDS(file = "data/billboard_2019-data.RDS")
billboard_2020 <- readRDS(file = "data/billboard_2020-data.RDS")
billboard_2021 <- readRDS(file = "data/billboard_2021-data.RDS")
billboard_2022 <- readRDS(file = "data/billboard_2022-data.RDS")
tiktok_2018 <- readRDS(file = "data/tiktok_2018-data.RDS")
tiktok_2019 <- readRDS(file = "data/tiktok_2019-data.RDS")
tiktok_2020 <- readRDS(file = "data/tiktok_2020-data.RDS")
tiktok_2021 <- readRDS(file = "data/tiktok_2021-data.RDS")
tiktok_2022 <- readRDS(file = "data/tiktok_2022-data.RDS")

# make column track.duration_s that shows track duration in seconds
billboard <- rbind(billboard_2018, billboard_2019, billboard_2020, billboard_2021, billboard_2022) %>%
  mutate(track.duration_s = track.duration_ms / 1000)
tiktok <- rbind(tiktok_2018, tiktok_2019, tiktok_2020, tiktok_2021, tiktok_2022) %>%
  mutate(track.duration_s = track.duration_ms / 1000)

# make column year that divides all songs by year in which they were trending
x <- c(rep(2018, 100), rep(2019, 100), rep(2020, 100), rep(2021, 100), rep(2022, 100))
billboard$year <- factor(x)
y <- c(rep(2018, 76), rep(2019, 224), rep(2020, 357), rep(2021, 331), rep(2022, 267))
tiktok$year <- factor(y)

# make a dataframe with all songs in it
all_songs <- rbind(billboard, tiktok)
z <- c(rep("Billboard", 500), rep("TikTok", 1255))
all_songs$type <- factor(z)

# songs that are just tiktok
just_tiktok <- tiktok[!(tiktok$track.uri %in% billboard$track.uri),]
just_tiktok_billboard <- rbind(billboard, just_tiktok)
x <- c(rep("Billboard", 500), rep("TikTok", 1083))
just_tiktok_billboard$type <- factor(x)

tiktok_colors <- c("#010101", "#FF2D55", "#FDFDFD", "#3A3A3C")

# Define the Prompt and Sen fonts
prompt_font <- "Prompt"
sen_font <- "Sen"

# Define the TikTok theme with the custom fonts
theme_tiktok <- function(base_size = 12) {
  theme(
    text = element_text(family = prompt_font, size = base_size),
    panel.background = element_rect(fill = tiktok_colors[3]),
    plot.background = element_rect(fill = tiktok_colors[3]),
    panel.grid.major = element_blank(),
    panel.grid.minor = element_blank(),
    axis.line = element_line(color = tiktok_colors[1], size = 0.5),
    axis.ticks = element_line(color = tiktok_colors[1], size = 0.2),
    axis.text = element_text(color = tiktok_colors[1], family = sen_font),
    legend.background = element_rect(fill = tiktok_colors[3], size = 0.5),
    legend.text = element_text(color = tiktok_colors[1], family = sen_font),
    legend.key = element_rect(fill = tiktok_colors[3], color = tiktok_colors[1], size = 0.5),
    plot.title = element_text(size = rel(1.2), color = tiktok_colors[1],
                              family = prompt_font, hjust = 0, vjust = 1,
                              margin = margin(b = 10, l = 0)),
    plot.subtitle = element_text(size = rel(1), color = tiktok_colors[1],
                                 family = prompt_font, hjust = 0.5, margin = margin(t = 10)),
    plot.caption = element_text(size = rel(0.8), color = tiktok_colors[1],
                                family = prompt_font, hjust = 1, margin = margin(t = 10, r = 0)),
    plot.margin = unit(c(50, 10, 0, 10), "pt")
  )
}
```


Introduction
=====================================

Column {data-width=500}
-----------------------------------------------------------------------

### Introduction

TikTok is one of the most popular social media apps of today and has a big impact on how we navigate our online life and also on music.

In this dashboard I will visualize how music changed as TikTok got more popular. My corpus contains Billboard Year-End Hottest Singles from 2018 until 2022 and the most popular TikTok sounds per year. I would like to research three things:

1. What characterizes a TikTok song.
2. To what extent popular music and TikTok music are similar.
3. How TikTok music differs from popular music.

__Computational Analysis__
I think that for my corpus the comparisons of the spotify analysis features will be most useful. In both playlists there are a lot of different genres, which is why I don't think the timbre-components will give us good comparisons.

I would also like to see how both types of music changed over the years. I don't think that we will be able to draw a conclusions from the changes over the years alone, but we can speculate about the role of TikTok in those changes.

If I analyse just one song, this will be mostly handpicked with accordance to the data.

__Expectations__
I don't expect to find very big difference, because I expect that there is a lot of overlap between the two playlists. I do expect the TikTok playlist to be more versatile and also more danceable.

Column {data-width=250}
-----------------------------------------------------------------------

### TikTok playlist
<iframe src="https://open.spotify.com/embed/playlist/3yn3Ng6rgPKAoW5KV79GGj?utm_source=generator" width="100%" height="100%" frameBorder="0" allowtransparency="true" allow="encrypted-media" data-external="1"></iframe>

Column {data-width=250}
-----------------------------------------------------------------------

### Billboard playlist
<iframe src="https://open.spotify.com/embed/playlist/2Zf8RxLhxAot2yKfn8G77v?utm_source=generator&theme=0" width="100%" height="100%" frameBorder="0" allowtransparency="true" allow="encrypted-media" data-external="1"></iframe>

Data {.storyboard}
=====================================

### Data {data-commentary-width=650}

For the datasets I have used the Billboard Year-End Hot 100 singles of the years 2016 to 2022 for the popular songs. For the TikTok charts I have used the website https://tokboard.com and the datasets of the user Sveta151 on kaggle (https://www.kaggle.com/sveta151).

For the popular songs I have used the Billboard Year-End Hot 100 singles of each year. Each playlist contains a 100 singles, so in total my corpus contains 500 'popular' songs.

For the TikTok data this is a bit more complicated. I could not find a lot of reliable sources for what sounds were the most popular per year or per month. From September 2018 to June 2021 I found the website https://tokboard.com. The 100 most popular sound were shown per month and I added all sounds that were songs to the corpus. There was no data after june 2021, so I complemented the _tokboard_-data with a dataset I found on kaggle by the user Sveta151 (https://www.kaggle.com/sveta151). For the previous years her data was quite similar to mine, so I complemented the years 2021 and 2022 with her playlists.

To finish it off, to get a more coherent view of TikTok and popular songs, I deleted all songs in the TikTok dataframe that were also present in the Billboard dataframe. In this way, songs that got popular on TikTok because they were already popular will not show in the visualizations.

**Songs per type**

We can see that the amount of songs per type is not equally distributed, with the Billboard containing 100 songs per year, every year and TikTok containing in between 76 and 357 songs per year. I have made sure that the songs are as representable as possible for each type and year, so for now I don't forsee big problems resulting from this inequality.

-----------------------------------------------------------------------

```{r}
amount <- readRDS(file = "data/amount-plot.RDS")

ggplotly(amount)
```

### Can AI predict the different categories? {data-commentary-width=650}

I was curious to see whether AI could notice the differences between the different playlists. I trained three different models on three different subsets of the playlists:

1. The difference between Billboard and TikTok songs in 2022
2. The difference between Billboard songs from 2018 and 2022
3. The difference between TikTok songs from 2018 and 2022

In the plot next to here you can see how the models classified each of the songs.

__1. The difference between Billboard and TikTok songs in 2022__

As we have seen just before, there are more TikTok than Billboard songs, this makes for an uneven distribution, which can also be seen in the classification model. This unevenness might have made the results less reliable.

However, uneven or not, the model does very poorly on the classification task. The precision for the Billboard category is only 32%. The predictions for TikTok songs are a bit better, with a precision rate of 73%. The precision is more than twice as high for TikTok songs, but so is the amount of TikTok songs in this subsection. 

Based on these findings we could conclude that the model classifies TikTok songs better than Billboard songs, but because of what I just discussed I think it is unfair to conclude this.

__2. The difference between Billboard songs from 2018 and 2022__

This is the only subset in which the distribution is equalized over the two years. Both playlists only contain 100 songs. The precision of Billboard songs from 2022 is slightly higher with 60% than the precision of Billboard songs in 2018, which is 62%. 

Although these rates are still low, the classifier does way better here than on the previous task. In later tabs we will research what makes these songs different from each other.

__3. The difference between TikTok songs from 2018 and 2022__

The last subsets also have a very unequal distribution with there being 61 TikTok songs from 2018 in comparison to 214 TikTok songs from 2022. This unneveness shows again.

The precision rate of TikTok songs from 2018 is only 31%, the lowest rate we have seen thusfar. This compares to the precision rate of 79% of TikTok songs from 2022. This difference is again very close to the ratio of songs available of each category. 

Again, I will not draw any conclusions based on these results.

-----------------------------------------------------------------------

```{r}
tiktok_billboard_2022_heatmap <- readRDS(file = "data/tiktok_billboard_2022_heatmap-plot.RDS")
tiktok_2018_2022_heatmap <- readRDS(file = "data/tiktok_2018_2022_heatmap-plot.RDS")
billboard_2018_2022_heatmap <- readRDS(file = "data/billboard_2018_2022_heatmap-plot.RDS")

subplot(tiktok_billboard_2022_heatmap,
        billboard_2018_2022_heatmap,
        tiktok_2018_2022_heatmap,
        nrows = 3,
        shareX = TRUE,
        shareY = TRUE) %>%
  layout(xaxis = list(title = 'True Value'),
         yaxis = list(title = 'Prediction'))

```

### On what variables do TikTok and Billboard songs vary the most?

```{r}
workflow <- readRDS(file = "data/tiktok_billboard_2022_workflow-plot.RDS")

ggplotly(workflow)
```

-----------------------------------------------------------------------

For this plot I compared the TikTok and the Billboard playlist of 2022. Although we saw in the classification task that it is hard for a model to predict the difference, I still was curious to see on based on what characteristics it tried to distinguish.

The variable that is of biggest importance when distinguishing in between songs from the two playlists is the duration. It is notable that the timbre-components seem to be relatively similar. The biggest differences lay in the variables measured by Spotify, like the valence, speechiness and danceability.

In the plots in the next few tabs, we will take a closer look on these variables in the two playlists.

### Duration and Tempo

```{r}
duration_tempo <- readRDS(file = "data/duration_tempo-plot.RDS")

ggplotly(duration_tempo)
```

-----------------------------------------------------------------------

Here I have plotted the track duration against the tempo, because these were some of the most defining variables for these two playlists.

**Tempo**

In the TikTok plot we can already see a big cluster around the tempo of 125 bpm. In the Billboard there seems to be a slight clustering around 110 bpm, but definitely not as significant as with the TikTok playlist.

**Duration**

For the duration there is not a clustering notable like for the Tempo, but we can see that the TikTok distribution is just slightly lower than the Billboard distribution. In the next plot I will zoom in on this.

### Duration

```{r}
track_duration <- readRDS(file = "data/track_duration-plot.RDS")

ggplotly(track_duration)
```

-----------------------------------------------------------------------

To zoom in on the last plot a bit, you can see that the Duration of both Billboard songs and TikTok songs have gone down over the years, with the average TikTok song being below 3 minutes in the last year.

With its short videos that can be scrolled through on demand, the average attention span has become shorter since TikTok came on the market. An explanation for the length of the songs could be, that people simply don't listen through an entire song.

A thing that comes with this trend is that the bridge in pop songs seems to be disappearing, but we will look at that later in the portfolio.

### Danceability

```{r}
danceability <- readRDS(file = "data/danceability-plot.RDS")

ggplotly(danceability)
```

-----------------------------------------------------------------------

* We can see that the mean danceability is higher for popular TikTok songs than for songs that were in the Billboard Hot 100.
* It is also notable that the trend in the last three years are very similar for both chart-types.
* This last point can be contributed to the fact that TikTok gained the most popularity in 2020 and it could be said that popular music and TikTok trends had a bigger influence on each other.


Chromagrams
=====================================

Sicko Mode by Travis Scott Chromagram
-----------------------------------------------------------------------

### Sicko Mode by Travis Scott Chromagram

```{r}
readRDS(file = "data/sicko_mode_chromagram-plot.RDS")
```

Explanation
-----------------------------------------------------------------------

### Explanation

It took me a very long time to find a song that would be interesting for a chromagram, mainly because in the last few years modulation are hardly used anymore. The only song I could find was Sicko Mode by Travis Scott.

In this song there are two modulations, that are shown with the red lines. The song almost feels like three different songs in one, except for modulations there are also tempo changes in these parts.

Reasoning behind why modulations are less used is because hiphop is more popular now than ever and here tempo changes are more important than the keys. However, this all remains speculation, because it is outside of the scope of this research.

Bridge {.storyboard}
=====================================

### abcdefu by GAYLE and the disappearance of the bridge {data-commentary-width=500}

```{r}
readRDS(file = "data/abcdefu_ssm-plot.RDS")
```

-----------------------------------------------------------------------

abcdefu by GAYLE is one of the biggest TikTok hits of 2022 and it fits in with a trend that is seen more often in recent pop-songs: the disappearance of the bridge.

__Structure of the song__

0 - 16 : The intro of the song, has the same melody as the chorus, but without all the instruments behind it.

17 - 61: The verse and the intro to the chorus. Some guitar and drums join.

62 - 89: The chorus. The instrumentals become heavier and the catchphrase that became popular on TikTok can be heard. ("abcdefu")

90 - 116: The second verse and intro the the chorus. Sounds very similar to the first verse, but is shorter.

117 - 151: The chorus. There are no noticable differences in comparison to the first time the chorus played.

152 - 168: Outro, the chorus but without all the instrumentals, similar to the intro.

__Analysis__

The song doesn't have a lot of strong musical elements that make it stand out. It is mostly the lyrics that defines the song:

_Fuck you and your mom and your sister and your job_

_And your broke-ass car and that shit you call art_

It is also very clear from the SSM that the song doesn't have a bridge. This is what adds power to the song, it is straight to the point and doesn't need a bridge to add more tension. 

### Shallow and an example of a bridge {data-commentary-width=500}

```{r}
readRDS(file = "data/shallow_ssm-plot.RDS")
```

-----------------------------------------------------------------------

__Structure of the song__

Apart from that it has a bridge, this song doesn't have a very regular structure

0 - 14: Intro, just guitar

15 - 63: First verse. Bradley Coopers sings while being backed by the guitar.

64 - 104: Second verse. Lady Gage sings. First a violin joins and later a piano as well

105 - 145: Chorus. Lady Gaga reaches some very high notes, while still being backed by just a guitar, violin and piano. Halfway through Bradley Coopers joins in.

146 - 166: Bridge. Lady Gaga sings just by her own again and drums join in while the song reaches to a climax again.

167 - 217: Chorus. The chorus playes again, this time also with the drums that came in in the bridge.

218 - 225: The last few seconds are an audience cheering.

__Analysis__

In the SSM you can clearly see there is a bridge, it stands out from all the other parts of the song. Especially in the timbre SSM. 

The bridge is really powerful in this song, because of the bridge the song can reach a climax in which the singers (especially Lady Gaga) shound their vocals to the best of their ability. Without the bridge this song would be rather bland.

Keys {.storyboard}
=====================================

### Barchart of distribution of Keys

```{r}
keys <- just_tiktok_billboard %>%
  group_by(key_name, type, year) %>%
  summarize(count = n()) %>%
  ungroup(key_name, type) %>%
  group_by(type, year) %>%
  mutate(frequency = count / sum(count)) %>%
  ggplot(aes(x = key_name, frequency, fill = type), stat = "count") +
  geom_col(position = "dodge") +
  labs(x = "Keys",
       y = "Frequency Ratio",
       title = "Distribution Across Keys by year by type") +
  facet_wrap(~ year) +
  theme_tiktok()

ggplotly(keys)
```

-----------------------------------------------------------------------

* In most years the key C# is used most for both the Billboard and TikTok corpus and D# is used the least overall.
* For Billboard songs, the key C or C# is always the most used in the last five years. TikTok songs only divert from this trend in the last year, with B being the most used key in the year 2022.
* Notable is that the key A is used almost twice as much in TikTok songs in the last two years.
* The key G was only more common in Billboard songs than in TikTok songs in the year 2020, the opposite is true for G# in the year 2021.
* Overall, although there are a lot of differences, there is not a clear trend that distinguishes the keys used in TikTok and Billboard songs.

### Chordogram

```{r}
circshift <- function(v, n) {
  if (n == 0) v else c(tail(v, n), head(v, -n))
}

#      C     C#    D     Eb    E     F     F#    G     Ab    A     Bb    B
major_chord <-
  c(   1,    0,    0,    0,    1,    0,    0,    1,    0,    0,    0,    0)
minor_chord <-
  c(   1,    0,    0,    1,    0,    0,    0,    1,    0,    0,    0,    0)
seventh_chord <-
  c(   1,    0,    0,    0,    1,    0,    0,    1,    0,    0,    1,    0)

major_key <-
  c(6.35, 2.23, 3.48, 2.33, 4.38, 4.09, 2.52, 5.19, 2.39, 3.66, 2.29, 2.88)
minor_key <-
  c(6.33, 2.68, 3.52, 5.38, 2.60, 3.53, 2.54, 4.75, 3.98, 2.69, 3.34, 3.17)

chord_templates <-
  tribble(
    ~name, ~template,
    "Gb:7", circshift(seventh_chord, 6),
    "Gb:maj", circshift(major_chord, 6),
    "Bb:min", circshift(minor_chord, 10),
    "Db:maj", circshift(major_chord, 1),
    "F:min", circshift(minor_chord, 5),
    "Ab:7", circshift(seventh_chord, 8),
    "Ab:maj", circshift(major_chord, 8),
    "C:min", circshift(minor_chord, 0),
    "Eb:7", circshift(seventh_chord, 3),
    "Eb:maj", circshift(major_chord, 3),
    "G:min", circshift(minor_chord, 7),
    "Bb:7", circshift(seventh_chord, 10),
    "Bb:maj", circshift(major_chord, 10),
    "D:min", circshift(minor_chord, 2),
    "F:7", circshift(seventh_chord, 5),
    "F:maj", circshift(major_chord, 5),
    "A:min", circshift(minor_chord, 9),
    "C:7", circshift(seventh_chord, 0),
    "C:maj", circshift(major_chord, 0),
    "E:min", circshift(minor_chord, 4),
    "G:7", circshift(seventh_chord, 7),
    "G:maj", circshift(major_chord, 7),
    "B:min", circshift(minor_chord, 11),
    "D:7", circshift(seventh_chord, 2),
    "D:maj", circshift(major_chord, 2),
    "F#:min", circshift(minor_chord, 6),
    "A:7", circshift(seventh_chord, 9),
    "A:maj", circshift(major_chord, 9),
    "C#:min", circshift(minor_chord, 1),
    "E:7", circshift(seventh_chord, 4),
    "E:maj", circshift(major_chord, 4),
    "G#:min", circshift(minor_chord, 8),
    "B:7", circshift(seventh_chord, 11),
    "B:maj", circshift(major_chord, 11),
    "D#:min", circshift(minor_chord, 3)
  )

key_templates <-
  tribble(
    ~name, ~template,
    "Gb:maj", circshift(major_key, 6),
    "Bb:min", circshift(minor_key, 10),
    "Db:maj", circshift(major_key, 1),
    "F:min", circshift(minor_key, 5),
    "Ab:maj", circshift(major_key, 8),
    "C:min", circshift(minor_key, 0),
    "Eb:maj", circshift(major_key, 3),
    "G:min", circshift(minor_key, 7),
    "Bb:maj", circshift(major_key, 10),
    "D:min", circshift(minor_key, 2),
    "F:maj", circshift(major_key, 5),
    "A:min", circshift(minor_key, 9),
    "C:maj", circshift(major_key, 0),
    "E:min", circshift(minor_key, 4),
    "G:maj", circshift(major_key, 7),
    "B:min", circshift(minor_key, 11),
    "D:maj", circshift(major_key, 2),
    "F#:min", circshift(minor_key, 6),
    "A:maj", circshift(major_key, 9),
    "C#:min", circshift(minor_key, 1),
    "E:maj", circshift(major_key, 4),
    "G#:min", circshift(minor_key, 8),
    "B:maj", circshift(major_key, 11),
    "D#:min", circshift(minor_key, 3)
  )

twenty_five <-
  get_tidy_audio_analysis("0JOkg9ppNx6yXxVBqfDpB4") |>
  compmus_align(sections, segments) |>
  select(sections) |>
  unnest(sections) |>
  mutate(
    pitches =
      map(segments,
          compmus_summarise, pitches,
          method = "mean", norm = "manhattan"
      )
  )

twenty_five |>
  compmus_match_pitch_template(
    chord_templates,         # Change to chord_templates if descired
    method = "euclidean",  # Try different distance metrics
    norm = "manhattan"     # Try different norms
  ) |>
  ggplot(
    aes(x = start + duration / 2, width = duration, y = name, fill = d)
  ) +
  geom_tile() +
  scale_fill_viridis_c(guide = "none") +
  theme_minimal() +
  labs(x = "Time (s)", y = "")
```

-----------------------------------------------------------------------

* For the Chordogram I have used the song Monkeys Spinning Monkeys. Although it may not sound familiar, I think anyone who has used social media in the past 5 years will recognize this sound. It is a typical TikTok background sound that is ideal for a video in which you don't want the sound taking up all the attention.
* In the beginning two parts are repeated (the two mainly yellow blocks), which are clearly written in C-major. Then the big block around 60 seconds is where a modulation sets in. The same part that was repeated earlier is again repeated but now in G major.

Tempo {.storyboard}
=====================================

### Barchart of distribution of Tempi {data-commentary-width=500}

```{r}
tempi <- readRDS(file = "data/tempi-plot.RDS")

ggplotly(tempi)
```

-----------------------------------------------------------------------

* In comparison to the TikTok chart, the Billboard distribution of tempi looks relatively even, with a mode at around tempo 100 bpm.
* TikTok has two big modes, one at around 100 bpm like the Billboard and the other around 125 bpm, significantly faster than the Billboard mode.
* From this data I would like to conclude that TikTok songs typically have a bigger bpm than popular songs.

### Tempogram of Cannibal by Kesha {data-commentary-width=500}

```{r}
cannibal_tempogram <- readRDS(file = "data/cannibal_tempogram-plot.RDS")

ggplotly(cannibal_tempogram)
```

-----------------------------------------------------------------------

* I chose the song Cannibal by Kesha, not necessarily because it was an outlier, but because it has a tempo of just below 130, which is more typical of a TikTok song.
* The tempo throughout the song stays the same, but in certain parts the program cannot distinguish it anymore, because the beat disappears in the song at these moments. I thought this to be an interesting example, to see how the program would pick up on it.
* You can still see certain slivers of the real tempo, but it also seems like it picks up the 3-count measure (so 3 instead of 4 counts in the same measure), which is visible at the sliver around 100 bpm.

### Tempogram next to Self-Similarity Matrix of Cannibal - Kesha {data-commentary-width=600}

```{r}
cannibal_dtp <- readRDS(file = "data/cannibal_dtp-plot.RDS")

subplot(ggplotly(cannibal_tempogram),
        ggplotly(cannibal_dtp),
        nrows = 2)
```

***

**Structure of the song**

0 - 7 intro of the song: Starts of with a strong beat.

7 - 21 verse 1: Kesha starts singing over the beat, no other instruments or sounds are added.

22 - 37: intro to the chorus: Kesha's voice is toned down a bit, it sounds like the autotune is more apparent here. Also synthesizers are added.

38 - 51: chorus part 1: The beat disappears, the synthesizers are tuned up. Kesha is the centre here with some long high notes.

52 - 66: chorus part 2: Chorus part 1 repeats, but the beat reappears.

67 - 80: verse 2: Sounds very similar to the first refrain (7-21), the synthesizers are a bit more apparent here, but the centre of the refrain is still Kesha and the beat.

81 - 125: chorus: The intro to the chorus and the two parts of the chorus are repeated. No noticeable difference.
126 - 140: bridge part 1: The beat is singing, Kesha's voice is really the centre like in no other part of the song.

141 - 154: bridge part 2: The beat reappears again, Kesha repeats what she did in the first part of the bridge. At the end a synthesizer is gearing us up for the last time we here the chorus.

155 - 184: chorus: Chorus repeats again. Some adlibs are added for an extra boom moment.

185 - 194: outro: The outro sounds very similar to the intro, with a strong beat to the center of it. Kesha is saying some stuff through it and laughs. The song ends.

**Comparison**

* In the tempogram, the part where the chorus starts is very visible, because here the beat ceases for a few seconds at around 38 seconds in, this is seen again at around 81 seconds and 155 seconds, just as it is in the song.

* This is less apparent in the self-similarity matrix, also because the sections are not fully alligned with the sections I just described.

* Up until the bridge there are two moments in which the beat disappears, the first moment is very clear in the matrix, with a section from 30 to 45 seconds. The difference between the other sections that do contain a beat is much bigger. The second moment is less clear, but is at the section that is from 82 to 112 seconds. This sections has the smallest difference between the first section in which the beat disappears. But because the section also contains a part of the chorus in which the beat reappears the structure is less clear.

* The biggest difference is seen in the last time the chorus is sung, after the bridge. The section that best shows this is from 164 to 176 seconds. The difference looks very similar to the difference of the first section.

Conclusion
=====================================

Questions
-----------------------------------------------------------------------

### Questions

In the introduction I mentioned that I wanted to research three things.

__1. What characterizes a TikTok song__

In this research we have seen that the model found that TikTok songs differ most on duration, danceability and tempo among other things. Overall TikTok songs are shorter, more danceable, and have a higher tempo at 125 bpm than regular pop songs.

I, however, don't think necessarily is what characterizes a TikTok song. Throughout this research I have found that TikTok songs were very diverse, ranging from very fast paced rap to songs like Running Up That Hill by Kate Bush. A TikTok song is defined by the 20 seconds people seem to like, but from this research I have learned that it is not very systematic what becomes popular on TikTok.

To conclude, a TikTok song can be characterized by its danceability, tempo and duration, but the difference with pop music is not big.

__2. To what extent are popular music and TikTok music similar__

This question I find hard to answer, but overall I feel like whatever is popular on TikTok becomes popular in music and whatever is popular in the music world is very likely to become popular on TikTok. Hard evidence for this I don't have though. 

I don't feel like I can take conclusions from the analytics I have done.

__3. How does TikTok music differ from popular music__

This question has the same answer as question 1.

Conclusion
-----------------------------------------------------------------------

### Conclusion

To conclude, although there are differences, pop music and TikTok music share a lot of similarities. Both are not defined by one genre and both can have a lot of outliers as well as songs that follow trends.

There is a lot to be said about the effect of TikTok on music. TikTok shortens the attention span and this has effect on how people listen to music and thus how music is produced. But it is not just TikTok that has an effect on music, it is also the digitization and the Spotify algorithm.

Because there are so many factors, I don't feel like just musical analysis will answer the questions I have. But, it was very interesting to see where the differences lie and also to spot some trends that have happened over just 5 years, like the duration of songs becoming shorter, as well as the danceability declining.

TikTok and popular music are intertwined, but it is yet unclear how exactly.